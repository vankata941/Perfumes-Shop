<!doctype html>
<html lang="en" data-bs-theme="auto"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head th:replace="~{commons/head::head}"></head>

<body>

<header th:replace="~{commons/header::header}"></header>

<main class="form-field w-100 m-auto">
    <form
    th:object="${changePasswordData}"
    th:action="@{/user/change-password}"
    th:method="POST"
    >
        <h1 class="h3 mb-3 fw-normal">Change Password</h1>
        <div class="text-danger mb-2" style="font-size: 15px" th:if="${hasError}" th:text="${errorMessage}">Error occurred!</div>

      <div class="form-floating mb-3">
        <input
                th:field="*{currentPassword}"
                th:errorclass="is-invalid"
                name="currentPassword"
                type="password"
                class="form-control"
                id="currentPassword"
                placeholder="Current password"
                minlength="8"
                maxlength="20"
                required
        >
        <small class="invalid-feedback text-danger" style="font-size: 15px">Please enter your current password!</small>
          <label for="currentPassword" class="form-label">Current Password</label>
      </div>
      <div class="form-floating mb-3">
        <input
                th:field="*{newPassword}"
                th:errorclass="is-invalid"
                name="newPassword"
                type="password"
                class="form-control"
                id="newPassword"
                placeholder="New password"
                minlength="8"
                maxlength="20"
                required
        >
          <small class="invalid-feedback text-danger" style="font-size: 15px">Password length must be between 8 and 20 characters!</small>
          <label for="newPassword" class="form-label">New Password</label>
      </div>
      <div class="form-floating mb-3">
        <input
                th:field="*{confirmNewPassword}"
                th:errorclass="is-invalid"
                type="password"
                class="form-control"
                id="confirmPassword"
                placeholder="Confirm password"
                minlength="8"
                maxlength="20"
                required
        >
        <small class="invalid-feedback text-danger" style="font-size: 15px">Password length must be between 8 and 20 characters!</small>
          <label for="confirmPassword" class="form-label">Confirm Password</label>
      </div>
      <div class="d-grid gap-2">
        <button class="btn btn-primary w-100 py-2" type="submit">Change Password</button>
      </div>
    </form>
  </main>

  <footer th:replace="~{commons/footer::footer}"></footer>
</body>
</html>
